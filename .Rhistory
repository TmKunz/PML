p1 <- 0.7
p2 <- 0.15
p <- 85/200
ts <- (p1 - p2)/sqrt(p * (1 - p) * 2/100)
pnorm(ts)
pnorm(-ts)
pbinom(2, size = 4, prob = 0.5)
pbinom(3, size = 4, prob = 0.5)
sqrt((1-45/66)/45+(1-15/67)/67)
sqrt((1-45/66)/45+(1-15/67)/15)
140/290
100/290
50/290
(0.53+0.48)/2
qchisq(0.95,2)
2*(0.53-0.505)^2/0.505+2*(0.35-0.345)^2/0.345+2*(0.17-0.145)^2/0.145
dat <- matrix(c(44, 77, 56, 43), 2)
chisq.test(dat)
chisq.test(dat, correct = FALSE)
dat <- matrix(c(0.53, 0.35, 0.12, 0.48, 0.34, 0.17), 3)
chisq.test(dat)
chisq.test(dat, correct = FALSE)
dat <- matrix(c(15, 30, 5, 10), 2)
chisq.test(dat)
dat <- matrix(c(80, 60, 15, 30, 5, 10), 2)
chisq.test(dat)
dat <- matrix(c(65, 70, 15, 35, 30, 85), 3)
chisq.test(dat)
65+70+15
35+30+80
65+35
15000/295
150*95/295
14500/295
145*95/295
?fisher.test
dat <- matrix(c(4, 1, 2, 6), 2)
fisher.test(dat)
dat <- matrix(c(3,2,1,4), 2)
fisher.test(dat, alternative = "greater")
dat <- matrix(c(0.53, 0.35, 0.12, 0.48, 0.34, 0.17), 3)
chisq.test(dat)
dat <- matrix(c(53, 35, 12, 140, 100,50), 3)
chisq.test(dat)
dat <- matrix(c(0.53, 0.35, 0.12, 0.48, 0.34, 0.17), 3)
chisq.test(dat)
dat <- matrix(c(53, 35, 12, 140, 100,50), 3)
chisq.test(dat)
dat <- matrix(c(0.53, 0.35, 0.12, 140, 100,50), 3)
chisq.test(dat)
0.53*290
0.35*290
0.12*290
(140-153.7)^2/153.7+1.5^2/101.5+(50-34.8)^2/34.8
pchisq(7.88,2)
pchisq(7.88,2, lower.tail=FALSE)
pchisq(0.015,1, lower.tail=FALSE)
chisq.test(c(140,100,150),c(0.53,0.35,0.12)
chisq.test(c(140,100,150),c(0.53,0.35,0.12))
chisq.test(c(140,100,150),p=c(0.53,0.35,0.12))
chisq.test(c(140,100,150),p=c(0.53,0.35,0.12), correct=FALSE)
chisq.test(c(6022,2001),p=c(0.75,0.25), correct=FALSE)
chisq.test(c(140,100,50),p=c(0.53,0.35,0.12), correct=FALSE)
51*47/100
51*53/100
49*47/100
49*53/100
(43-23.97)^2/23.97+(8-27.03)^2/27.03+(4-23.03)^2/23.03+(45-25.97)^2/25.97
chisq.test(c(46,54,49,51),p=c(0.25, 0.25, 0.25, 0.25), correct=FALSE)
dat <- matrix(c(65, 70, 15, 35, 30, 85), 3)
> chisq.test(dat)
dat <- matrix(c(65, 70, 15, 35, 30, 85), 3)
chisq.test(dat)
data(UCBAdmissions)
data=data(UCBAdmissions)
head(data)
?UCBAdmissions
apply(UCBAdmissions, c(1, 2), sum)
apply(UCBAdmissions, c(2,3), sum)
apply(UCBAdmissions, c(1,2,3), sum)
apply(UCBAdmissions, c(1,3), sum)
8+5+52+164
25+21+29+128
(8*164/229 + 25*128/203) / (5*52/229 + 21*29/203)
matrix(c(243,189,54,153),2)
(243+54)*(54+153)/(243+189)*(189+153)
(243+54)*(54+153)/(243+189)/(189+153)
sum(matrix(c(243,189,54,153),2))
mcnemar.test(matrix(c(243,189,54,153),)2)
mcnemar.test(matrix(c(243,189,54,153),2))
?binom.test
dat <- array(c(8, 52, 5, 164, 25, 29, 21, 128), c(2, 2, 2))
mantelhaen.test(dat, correct = FALSE)
dat<-matrix(c(55,41,12,20),2)
sum(dat)
128*129/4
dat
128*129*257/24
15.5+15.5+20+20+23+23+22+6.5+2.5+17.5+9+6.5+2.5+11
dat<-matrix(c(55,12,41,20),2)
mcnemar.test(dat)
(55+41)/(12+20)/(55+12)*(41+20)
log(189/54)*sqrt(1/189+1/54)
log(189/54)
189/54
(0.8)^(1:5)
load(url("http://bit.ly/dasi_gss_data"))
table(gss$degree)
table(gss$child)
plot(gss$degree ~ gss$child)
table(gss$degree, gss$child)
plot(gss$degree=="Graduate" ~ gss$child)
a = subset(gss$child, gss$degree=="Graduate")
hist(gss$child)
table(a)
plot(a)
table(gss$child, gss$degree)
plot(gss$child, gss$degree)
a = subset(gss$child, gss$degree=="Lt High School")
hist(a)
sumcol(table(gss$child, gss$degree))
sumCol(table(gss$child, gss$degree))
colSums(table(gss$child, gss$degree))
names(gss$degree)
names(table(gss$degree))
-1.5+3-0.5*5
exp(-1)
1-0.3678794
1/(1+exp(1))
install.packages('swirl')
library(swirl)
swirl()
5+7
x<-5+7
x
y<-x-3
y
z<-c(1.1, 9, 3.14)
?c
z
c(z, 555, z)
z * 2 + 100
my_sqrt = sqrt(z-1)
my_Sqrt = sqrt(z-1)
my_sqrt <- sqrt(z-1)
my_sqrt
my_div <- z/my_sqrt
my_div
c(1, 2, 3, 4) + c(0,10)
c(1, 2, 3, 4) + c(0, 10, 100)
z * 2 + 1000
my_div
1:20
pi:10
15:1
?`:`
seq(1, 20)
seq(0, 10, by=0.5)
my_seq<-seq(5,10, length=30)
length(my_seq)
1:length(my_seq)
seq(along = my_seq)
seq_along(my_seq)
rep(0, times = 40)
rep(c(0, 1, 2), times= 10)
rep(c(0, 1, 2), each= 10)
num_vect <- c(0.5, 55, -10, 6)
tf <- num_vect<1
tf
num_vect >= 6
my_char <- c("My", "name", "is")
my_char
paste(my_char, collapse = " ")
my_name <- c(my_char, " Tami")
my_name
paste(my_name, collapse = " ")
paste("Hello", "world!", sep = " ")
paste(1:3, c("X","Y","Z"), sep="")
paste(LETTERS, 1:4, sep = "-")
x<-c(44,NA,5,NA)
x*3
y <- rnorm(1000)
z <- rep(NA, 1000)
my_data <- sample(c(y,z), 100)
my_na <- is.na(my_data)
my_na
my_data == NA
sum(my_na)
my_data
0/0
Inf-Inf
x
x[1:10]
x[is.na(x)]
y<-x[!is.na(x)]
y
y[y > 0]
x[x > 0]
x[!is.na(x) & x > 0]
x[c(3,5,7)]
x[0]
x[300]
x[3000]
x[c(-2, -10)]
x[-c(2, 10)]
vect <- c(foo = 11, bar = 2, norf = NA)
vect
names()
names(vect)
vect2 <- c(11, 2, NA)
names(vect2) <- c("foo", "bar", "norf")
identical(vect,vect2)
vect["bar"]
vect[c("foo", "bar")]
my_vector <- 1:20
my_vector
dim(my_vector)
length(my_vector)
dim(my_vector) <- c(4, 5)
dim(my_vector)
attributes(my_vector)
my_vector
class(my_vector)
my_matrix<-my_vector
?matrix
my_matrix2 <- matrix(1:20, nrow=4)
identical(my_matrix,my_matrix2)
patients <- c("Bill", "Gina", "Kelly", "Sean")
cbind(patients, my_matrix)
my_data <- data.frame(patients, my_matrix)
my_data
class(my_data)
cnames = c("patient", "age", "weight", "bp", "rating", "test")
cnames <- c("patient", "age", "weight", "bp", "rating", "test")
colnames(my_data) <- cnames
my_data
x <- c(0.18, -1.54, 0.42, 0.95)
w <- c(2, 1, 3, 1)
weighted.mean(x,w)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
md <- lm(I(y-mean(y)) ~ I(x-mean(x))-1)
I(x-mean(x))
summary(md)
data(mtcars)
md2 <- (mpg~weight)
summary(md2)
md2 <- lm(mpg~weight, data=mtcars)
names(mtcars)
md2 <- lm(mpg~wt, data=mtcars)
summary(md2)
x <- c(8.58, 10.46, 9.01, 9.64, 8.86)
scale(x)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
md3 <- lm(y~x)
summary(md3)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
mean(x)
md <- lm(I(y) ~ I(x)-1)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
md <- lm(I(y) ~ I(x)-1)
summary(md)
setwd("~/GitHub/PML")
